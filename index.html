<html>
    <head>
        <title>OScreenRecorder</title>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <link rel="shortcut icon" href="favicon.ico">
        <link rel="icon" type="image/png" href="icon.png">

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
        <link rel="stylesheet" href="css/style.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700&family=Nunito:wght@400;700&display=swap" rel="stylesheet">

        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <script src="js/jquery.animateCSS.min.js"></script>

        <script>
            document.oncontextmenu = function(){
                event.returnValue = false;
            }
        </script>
    </head>
    <body>
        <div class="main animate__animated animate__zoomIn animate__faster" id="main" style="display:none;">
            <!-- <div class="loading animate__animated animate__fadeOut animate__delay-2s animate__faster">
                <div class="loader">Loading...</div>
            </div> -->
            <div class="card main-card" id="main-card">
                <div class="card-body">

                    <div id="welcome">
                        <div class="row main-card-row">
                            <div class="col main-card-col main-card-icon-col">
                                <div class="icon">
                                    <i class="fas fa-video fa-9x"></i>
                                </div>
                            </div>
                            <div class="col main-card-col">
                                <div style="display:flex;">
                                    <h2 class="title">OScreenRecorder</h1>
                                    &nbsp;&nbsp;
                                    <h5 class="title-beta">BETA</h5>
                                </div>
                                <div style="display:flex;flex-direction:column;">
                                    <p>線上錄製螢幕，無需下載客戶端，無限時長，無需費用。</p>
                                    <p>支援影片檔案下載(*.webm)，支援螢幕、視窗、分頁錄製。</p>
                                </div>
                                <div style="display:flex;width:100%;flex-direction:row;justify-content:flex-end;">
                                    <button type="button" class="btn btn-primary start-button next">開 始</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="select-capture-mode" style="display:none;">
                        <div class="row main-card-row">
                            <div class="col main-card-col main-card-icon-col">
                                <div class="icon">
                                    <i class="fas fa-desktop fa-9x"></i>
                                </div>
                            </div>
                            <div class="col main-card-col">
                                <div style="display:flex;width:100%;">
                                    <h4>選擇擷取模式</h1>
                                </div>
                                <div style="display:flex;flex-direction:column;">
                                    <ul class="option" id="capture-option">
                                        <li disabled>
                                            <h6>擷取螢幕畫面和視訊鏡頭(開發中)</h6>
                                            <p>
                                                在螢幕右下方使用子母畫面(PiP)顯示視訊鏡頭畫面，在螢幕錄製時同時錄製。
                                                請注意，若視窗覆蓋在子母畫面之上，將無法擷取視訊畫面。
                                            </p>
                                        </li>
                                        <li>
                                            <h6>僅擷取螢幕畫面</h6>
                                            <p>
                                                將只會擷取您選擇的螢幕畫面，不會擷取視訊鏡頭影像。
                                            </p>
                                        </li>
                                    </ul>
                                </div>
                                <div style="display:flex;width:100%;flex-direction:row;justify-content:flex-end;">
                                    <button type="button" class="btn back">上一步</button>
                                    &nbsp;&nbsp;
                                    <button type="button" class="btn btn-primary start-button next" disabled>下一步</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="select-audio-mode" style="display:none;">
                        <div class="row main-card-row">
                            <div class="col main-card-col main-card-icon-col">
                                <div class="icon">
                                    <i class="fas fa-music fa-9x" id="audio-icon"></i>
                                </div>
                            </div>
                            <div class="col main-card-col">
                                <div style="display:flex;width:100%;">
                                    <h4>選擇音訊模式</h1>
                                </div>
                                <div style="display:flex;flex-direction:column;">
                                    <ul class="option" id="audio-option">
                                        <li>
                                            <h6>無音訊</h6>
                                            <p>
                                                影片將不會有任何聲音。
                                            </p>
                                        </li>
                                        <li disabled>
                                            <h6>擷取麥克風音訊</h6>
                                            <p>
                                                擷取電腦上的麥克風聲音。
                                            </p>
                                        </li>
                                        <li>
                                            <h6>擷取螢幕音訊</h6>
                                            <p>
                                                擷取目標畫面的聲音。部分作業系統或瀏覽器不支援。
                                            </p>
                                        </li>
                                    </ul>
                                </div>
                                <div style="display:flex;width:100%;flex-direction:row;justify-content:flex-end;">
                                    <button type="button" class="btn back">上一步</button>
                                    &nbsp;&nbsp;
                                    <button type="button" class="btn btn-primary start-button next" disabled>下一步</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="other-settings" style="display:none;">
                        <div class="row main-card-row">
                            <div class="col main-card-col main-card-icon-col">
                                <div class="icon">
                                    <i class="fas fa-tools fa-9x" id="audio-icon"></i>
                                </div>
                            </div>
                            <div class="col main-card-col">
                                <div style="display:flex;width:100%;">
                                    <h4>其他選項</h1>
                                </div>
                                <div style="display:flex;flex-direction:column;width:100%;">
                                    <h6><i class="fas fa-mouse-pointer"></i> 游標</h6>
                                    <select class="form-select form-select-lg mb-3" id="cursor-mode">
                                        <option value="0" selected>總是顯示</option>
                                        <option value="1">移動時顯示</option>
                                        <option value="2">不顯示</option>
                                      </select>
                                </div>
                                <div style="display:flex;width:100%;flex-direction:row;justify-content:flex-end;">
                                    <button type="button" class="btn back">上一步</button>
                                    &nbsp;&nbsp;
                                    <button type="button" class="btn btn-primary start-button" id="prepare">啟動錄製</button>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>
            </div>

            <div class="card main-card recorder-main-card animate__animated animate__zoomIn animate__faster" id="recorder-main-card" style="display:none;">
                <div class="video-container" id="recorder-video-container" style="display:none;">
                    <video class="recorder-video" id="recorder-video" width="100%" autoplay muted>
                        Your browser does not support the video tag.
                    </video>
                </div>
                <div class="recorder-controls">
                    <div style="width:25%;flex-direction:row;align-items: center;">
                        <span style="font-weight:bold;">OScreenRecorder</span>
                        <span id="recorder-status-text" style="color:gray;margin-left: 10px;font-size: 9px;"></span>
                    </div>
                    <div>
                        <div id="recorder-controls-stopped">
                            <button type="button" class="btn btn-primary" id="recorder-start" data-toggle="tooltip" data-placement="top" title="錄製">&nbsp;&nbsp;<i class="fas fa-circle"></i>&nbsp;&nbsp;</button>
                        </div>
                        <div id="recorder-controls-recording" style="display:none;">
                            <button type="button" class="btn" id="recorder-pause" data-toggle="tooltip" data-placement="top" title="暫停"><i class="fas fa-pause"></i></button>
                            &nbsp;&nbsp;
                            <button type="button" class="btn btn-danger" id="recorder-stop" data-toggle="tooltip" data-placement="top" title="停止">&nbsp;&nbsp;<i class="fas fa-stop"></i>&nbsp;&nbsp;</button>
                        </div>
                    </div>
                    <div style="width:25%;flex-direction:row-reverse;">
                        <button type="button" class="btn" id="minimize-recorder"><i class="fas fa-th-list" id="minimize-icon"></i></button>
                    </div>
                </div>
                <div class="recorder-card-body recorder-videos-list" id="videos-list-container" style="display:none;">
                    <ul class="videos-list" id="videos-list"></ul>
                </div>
            </div>

            <div class="footer">Copyright © 2021 <a href="https://github.com/CISH-Networking" target="_blank">CISH Networking Team</a></div>
        </div>

        <div class="fullscreen-tip video-preview" id="video-preview" style="display:none;">
            <video class="video-preview-video animate__animated animate__zoomIn animate__faster" id="video-preview-video" autoplay controls>
                Your browser does not support the video tag.
            </video>
        </div>

        <div class="fullscreen-tip" id="prepare-tips" style="display:none;">
            <div style="position:absolute;top:80%;width:100%;opacity:0.9;">
                <h1>請在彈出的視窗中選取要錄製的畫面及音訊</h1>
                <h6 style="color:lightgray;"><i class="fas fa-question-circle"></i> 沒有彈出視窗？</h6>
            </div>
        </div>

        <script src="js/fix-webm-duration.js"></script>
        <script src="js/script.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    </body>
</html>